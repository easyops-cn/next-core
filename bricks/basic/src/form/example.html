<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <div>form1</div>
    <basic.general-form id="form1" layout="inline">
      <basic.general-input
        name="name"
        label="姓名"
        id="form1-name"
      ></basic.general-input>
      <basic.general-input
        name="age"
        label="年龄"
        id="form1-age"
      ></basic.general-input>
      <basic.general-form-item>
        <basic.general-input
          name="sex"
          label="性别"
          id="form1-sex"
        ></basic.general-input>
      </basic.general-form-item>
    </basic.general-form>
    <basic.general-button id="btn-submit">提交</basic.general-button>
    <basic.general-button id="btn-set">设置</basic.general-button>
    <basic.general-button id="btn-clear">清除</basic.general-button>

    <div style="margin-top: 30px">form2</div>

    <basic.general-form id="form2" layout="vertical">
      <basic.general-input
        name="name"
        label="姓名"
        id="form2-name"
      ></basic.general-input>
      <basic.general-input
        name="age"
        label="年龄"
        id="form2-age"
      ></basic.general-input>
      <div>
        <basic.general-input name="sex" label="性别"></basic.general-input>
      </div>
    </basic.general-form>
    <basic.general-button id="form2-submit">提交</basic.general-button>
  </body>
  <script>
    const form1 = document.getElementById("form1");
    const form1Name = document.getElementById("form1-name");
    const form1Age = document.getElementById("form1-age");
    const inputSex = document.getElementById("form1-sex");
    const btnSubmit = document.getElementById("btn-submit");
    const btnSet = document.getElementById("btn-set");
    const btnClear = document.getElementById("btn-clear");

    form1Name.pattern = "^[a-z]+$";
    form1Name.required = true;

    form1Age.min = 5;
    form1Age.max = 10;
    form1Age.required = true;

    inputSex.min = 2;

    form1.values = {
      name: "abc",
      age: "a",
      sex: "boy",
    };

    form1.addEventListener("values.change", (e) => {
      console.log(e);
    });

    form1.addEventListener("validate.success", (e) => {
      console.log("success", e);
    });

    form1.addEventListener("validate.error", (e) => {
      console.log("error", e);
    });

    btnSubmit.addEventListener("click", () => {
      form1.validate();
    });

    btnSet.addEventListener("click", () => {
      form1.setInitValue({
        name: "setName",
        age: "setAge",
      });
    });

    btnClear.addEventListener("click", () => {
      form1.resetFields();
    });

    const form2 = document.getElementById("form2");
    const form2Name = document.getElementById("form2-name");
    const form2Age = document.getElementById("form2-age");
    const form2Submit = document.getElementById("form2-submit");

    form2.addEventListener("values.change", (e) => {
      console.log(e);
    });

    form2Name.pattern = "^[1-9]+$";
    form2Name.required = true;

    form2.values = {
      name: "123",
      age: "abcdefg",
    };

    form2.addEventListener("validate.success", (e) => {
      console.log("success", e);
    });

    form2.addEventListener("validate.error", (e) => {
      console.log("error", e);
    });

    form2Submit.addEventListener("click", () => {
      form2.validate();
    });
  </script>
</html>
