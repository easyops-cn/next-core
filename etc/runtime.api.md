## API Report File for "@next-core/runtime"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import type { default as __2 } from 'lodash';
import { __dev_only_getGlobalExecutionContextStack } from '@next-core/cook';
import type { Action } from 'history';
import type { BatchUpdateContextItem } from '@next-core/types';
import type { BootstrapData } from '@next-core/types';
import { BreadcrumbItemConf } from '@next-core/types';
import type { BrickConf } from '@next-core/types';
import type { BrickEventHandler } from '@next-core/types';
import type { BrickEventHandlerCallback } from '@next-core/types';
import type { BrickEventsMap } from '@next-core/types';
import type { BrickLifeCycle } from '@next-core/types';
import type { BrickPackage } from '@next-core/types';
import type { ContextConf } from '@next-core/types';
import type { Contract } from '@next-core/types';
import { cook } from '@next-core/cook';
import type { CustomTemplate } from '@next-core/types';
import type { CustomTemplateConstructor } from '@next-core/types';
import type { CustomTemplateProxy } from '@next-core/types';
import { EstreeNode } from '@next-core/cook';
import type { FeatureFlags } from '@next-core/types';
import { History as History_2 } from 'history';
import type { LegacyCompatibleRuntimeContext } from '@next-core/inject';
import { Location as Location_2 } from 'history';
import { LocationDescriptor } from 'history';
import type { MetaI18n } from '@next-core/types';
import { MicroApp } from '@next-core/types';
import type { PermissionApi_validatePermissions } from '@next-api-sdk/micro-app-sdk';
import { precookFunction } from '@next-core/cook';
import type { ResolveConf } from '@next-core/types';
import type { RouteConf } from '@next-core/types';
import type { RuntimeSnippet } from '@next-core/types';
import type { RuntimeStoryboard } from '@next-core/types';
import type { SiteMode } from '@next-core/types';
import type { SiteTheme } from '@next-core/types';
import type { SiteVariant } from '@next-core/types';
import type { SlotConfOfRoutes } from '@next-core/types';
import type { StaticMenuConf } from '@next-core/types';
import type { Storyboard } from '@next-core/types';
import { StoryboardFunction } from '@next-core/types';
import { supply } from '@next-core/supply';
import type { UseProviderContractConf } from '@next-core/types';
import type { UseProviderResolveConf } from '@next-core/types';
import type { UseSingleBrickConf } from '@next-core/types';

declare namespace __secret_internals {
    export {
        renderUseBrick,
        mountUseBrick,
        unmountUseBrick,
        updateStoryboard,
        updateStoryboardByRoute,
        updateStoryboardByTemplate,
        updateTemplatePreviewSettings,
        updateStoryboardBySnippet,
        getContextValue,
        getAllContextValues,
        getBrickPackagesById,
        loadBricks,
        loadEditors,
        getRenderId,
        getAddedContracts,
        debugDataValue,
        getLegalRuntimeValue,
        DataValueOption,
        RuntimeContext,
        symbolForRootRuntimeContext,
        RuntimeUseBrickConfWithRootSymbols,
        RenderUseBrickResult,
        MountUseBrickResult,
        updateSnippetPreviewSettings,
        getBrickPackages,
        setRealTimeDataInspectRoot,
        addRealTimeDataInspectHook,
        legacyDoTransform,
        legacyTransformProperties,
        legacyTransformIntermediateData
    }
}
export { __secret_internals }

// @public (undocumented)
export let __test_only: RuntimeHooksMenuHelpers & {
    setBootstrapData(data: BootstrapData): void;
};

// Warning: (ae-forgotten-export) The symbol "RealTimeDataInspectHook" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
function addRealTimeDataInspectHook(hook: RealTimeDataInspectHook): void;

// @public (undocumented)
export function applyTheme(value?: SiteTheme): void;

// @public @deprecated (undocumented)
export function authenticate(...args: unknown[]): void;

// Warning: (ae-forgotten-export) The symbol "AppThemes" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export function batchSetAppsLocalTheme(appsTheme: AppThemes): void;

// Warning: (ae-forgotten-export) The symbol "IfContainer" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export const checkIfByTransform: (ifContainer: IfContainer, data: unknown) => boolean;

// @public (undocumented)
export function checkIfOfComputed(ifContainer: IfContainer): boolean;

// @public (undocumented)
export function createHistory(): NextHistory;

// @public (undocumented)
export interface CreateRootOptions {
    // (undocumented)
    portal?: HTMLElement;
    scope?: "page" | "fragment";
    supportsUseChildren?: boolean;
    unknownBricks?: "silent" | "throw";
    unsafe_penetrate?: boolean;
}

// Warning: (ae-forgotten-export) The symbol "Runtime" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export function createRuntime(options?: RuntimeOptions): Runtime;

// Warning: (ae-forgotten-export) The symbol "CustomEditorRegistry" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export const customEditors: CustomEditorRegistry;

// Warning: (ae-forgotten-export) The symbol "CustomProcessorRegistry" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export const customProcessors: CustomProcessorRegistry;

// Warning: (ae-forgotten-export) The symbol "CustomTemplateRegistry" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export const customTemplates: CustomTemplateRegistry;

// @public (undocumented)
interface DataValueOption {
    // (undocumented)
    routeId?: string;
    // (undocumented)
    tplStateStoreId?: string;
}

// Warning: (ae-forgotten-export) The symbol "DebugDataValue" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
function debugDataValue(debugData: DebugDataValue, { tplStateStoreId, routeId }: DataValueOption): Promise<any>;

// @public (undocumented)
export const Dialog: Readonly<{
    show: typeof show_2;
}>;

// @public (undocumented)
export interface DialogOptions {
    // (undocumented)
    content: string;
    // (undocumented)
    contentStyle?: object;
    // (undocumented)
    title?: string | null;
    // (undocumented)
    type?: "success" | "error" | "warn" | "info" | "confirm";
}

// Warning: (ae-forgotten-export) The symbol "ResolveOptions" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export function fetchByProvider(provider: string, args: unknown[], options?: ResolveOptions): Promise<unknown>;

// Warning: (ae-forgotten-export) The symbol "PreviewStoryboardPatch" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "PreviewOption" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
function getAddedContracts(storyboardPatch: PreviewStoryboardPatch, { appId, updateStoryboardType, collectUsedContracts }: PreviewOption): Promise<string[]>;

// @public (undocumented)
function getAllContextValues({ tplStateStoreId, }: DataValueOption): Record<string, unknown>;

// @public @deprecated (undocumented)
export function getAuth(): object | undefined;

// @public
export function getBasePath(): string;

// @public (undocumented)
function getBrickPackages(): BrickPackage[];

// @public (undocumented)
function getBrickPackagesById(id: string): BrickPackage | undefined;

// @public (undocumented)
function getContextValue(name: string, { tplStateStoreId }: DataValueOption): unknown;

// @public (undocumented)
export function getCssPropertyValue(name: string, el?: HTMLElement): string;

// @public (undocumented)
export function getCurrentMode(): SiteMode;

// @public (undocumented)
export function getCurrentTheme(): SiteTheme;

// @public (undocumented)
export const getHistory: () => NextHistory;

// Warning: (ae-forgotten-export) The symbol "RuntimeDataValueOption" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "RuntimeDataVale" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
function getLegalRuntimeValue(options?: RuntimeDataValueOption): RuntimeDataVale;

// @public (undocumented)
export function getPageInfo(): PageInfo;

// @public
export function getRealValue(value: unknown, { useRealTimeQuery, }?: {
    useRealTimeQuery?: boolean;
}): unknown;

// @public (undocumented)
function getRenderId(): string | undefined;

// @public (undocumented)
export const getRuntime: () => Runtime;

// @public (undocumented)
export function getThemeVariant(): SiteVariant;

// Warning: (ae-forgotten-export) The symbol "Kit" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export function getV2RuntimeFromDll(): Kit | undefined;

// @public
export function handleHttpError(error: unknown): void;

// @public
export function httpErrorToString(error: unknown): string;

// @public (undocumented)
export interface ImagesFactory {
    // (undocumented)
    get(name: string): string;
}

// @public (undocumented)
export function instantiateModalStack(initialIndex?: number): ModalStack;

// @public @deprecated (undocumented)
export function isLoggedIn(): boolean | undefined;

// @public (undocumented)
export function isNetworkError(error: unknown): boolean;

// @public (undocumented)
export function isUnauthenticatedError(error: unknown): boolean;

// @public
function legacyDoTransform(data: unknown, to: unknown, options?: unknown): unknown;

// @public (undocumented)
export type LegacyGeneralTransform = string | LegacyTransformMap | LegacyTransformItem[] | null | undefined;

// @public
function legacyTransformIntermediateData(data: unknown, to: LegacyGeneralTransform, from?: string | string[], mapArray?: boolean | "auto"): unknown;

// @public (undocumented)
export interface LegacyTransformItem {
    // (undocumented)
    from?: string | string[];
    // (undocumented)
    mapArray?: boolean | "auto";
    // (undocumented)
    to: string | LegacyTransformMap;
}

// @public (undocumented)
export interface LegacyTransformMap {
    // (undocumented)
    [propName: string]: unknown;
}

// @public
function legacyTransformProperties(props: Record<string, unknown>, data: unknown, to: LegacyGeneralTransform, from?: string | string[], mapArray?: boolean | "auto", options?: unknown): Record<string, unknown>;

// @public
function loadBricks(bricks: string[]): Promise<void>;

// @public
function loadEditors(editors: string[] | Set<string>, brickPackages?: BrickPackage[]): Promise<void>;

// @public @deprecated (undocumented)
export function logout(): unknown;

// @public (undocumented)
export interface MatchOptions {
    // (undocumented)
    exact?: boolean;
    // (undocumented)
    path: string | string[];
}

// Warning: (ae-forgotten-export) The symbol "MatchPathOptions" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "MatchResult" needs to be exported by the entry point index.d.ts
//
// @public
export function matchPath(pathname: string, options: MatchPathOptions): MatchResult | null;

// @public (undocumented)
export interface ModalStack {
    // (undocumented)
    pull: () => void;
    // (undocumented)
    push: () => number;
}

// @public (undocumented)
function mountUseBrick({ renderRoot, rendererContext, scopedStores }: RenderUseBrickResult, element: HTMLElement): MountUseBrickResult;

// @public (undocumented)
interface MountUseBrickResult {
    // (undocumented)
    portal?: HTMLElement;
}

// Warning: (ae-forgotten-export) The symbol "ExtendedHistory" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export type NextHistory = History_2<NextHistoryState> & ExtendedHistory;

// @public (undocumented)
export interface NextHistoryState {
    // (undocumented)
    from?: LocationDescriptor<NextHistoryState>;
    // (undocumented)
    noIncremental?: boolean;
    // (undocumented)
    notify?: boolean;
}

// @public (undocumented)
export type NextLocation = Location_2<NextHistoryState>;

// @public (undocumented)
const Notification_2: Readonly<{
    show: typeof show;
}>;
export { Notification_2 as Notification }

// @public (undocumented)
interface NotificationOptions_2 {
    // (undocumented)
    message: string;
    // (undocumented)
    type?: "success" | "error" | "warn" | "info";
}
export { NotificationOptions_2 as NotificationOptions }

// @public
export interface PageInfo {
    isInIframe: boolean;
    isInIframeOfLegacyConsole: boolean;
    isInIframeOfNext: boolean;
    isInIframeOfSameSite: boolean;
    isInIframeOfVisualBuilder: boolean;
}

// @public (undocumented)
export interface PageViewInfo {
    // (undocumented)
    pageTitle?: string;
    // (undocumented)
    path?: string;
    // (undocumented)
    status: "ok" | "failed" | "redirected" | "not-found" | "blocked";
}

// @public (undocumented)
export const registerWidgetFunctions: (widgetId: string, functions: StoryboardFunction[], widgetVersion?: string) => void;

// @public (undocumented)
export const registerWidgetI18n: (widgetId: string, i18nData: MetaI18n) => void;

// @public (undocumented)
export interface RenderOptions {
    // (undocumented)
    app?: MicroApp;
    // (undocumented)
    context?: ContextConf[];
    // (undocumented)
    functions?: StoryboardFunction[];
    // (undocumented)
    i18n?: MetaI18n;
    // (undocumented)
    language?: string;
    // (undocumented)
    templates?: CustomTemplate[];
    // (undocumented)
    theme?: SiteTheme;
    // (undocumented)
    uiVersion?: string;
    // (undocumented)
    url?: string;
}

// @public (undocumented)
function renderUseBrick(useBrick: RuntimeUseBrickConfWithRootSymbols, data: unknown, errorBoundary?: boolean): Promise<RenderUseBrickResult>;

// @public (undocumented)
interface RenderUseBrickResult {
    // Warning: (ae-forgotten-export) The symbol "RendererContext" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    rendererContext: RendererContext;
    // Warning: (ae-forgotten-export) The symbol "RenderRoot" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    renderRoot: RenderRoot;
    // (undocumented)
    scopedStores: DataStore<"STATE" | "FORM_STATE">[];
    // (undocumented)
    tagName: string | null;
}

// @public (undocumented)
export function resetReloadForError(): void;

// @public (undocumented)
interface RuntimeContext extends LegacyCompatibleRuntimeContext {
    // (undocumented)
    appendI18nNamespace?: string;
    // Warning: (ae-forgotten-export) The symbol "DataStore" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    ctxStore: DataStore<"CTX">;
    // (undocumented)
    eventMap?: Map<string, Event>;
    // (undocumented)
    forEachIndex?: number;
    // (undocumented)
    forEachItem?: unknown;
    // (undocumented)
    forEachSize?: number;
    // (undocumented)
    formStateStoreId?: string;
    // (undocumented)
    formStateStoreMap: Map<string, DataStore<"FORM_STATE">>;
    // (undocumented)
    formStateStoreScope?: DataStore<"FORM_STATE">[];
    // (undocumented)
    inUseBrick?: boolean;
    // (undocumented)
    isolatedRoot?: symbol;
    // (undocumented)
    pendingPermissionsPreCheck: (Promise<unknown> | undefined)[];
    // (undocumented)
    tplStateStoreId?: string;
    // (undocumented)
    tplStateStoreMap: Map<string, DataStore<"STATE">>;
    // (undocumented)
    tplStateStoreScope?: DataStore<"STATE">[];
    // (undocumented)
    unsafe_penetrate?: boolean;
}

// @public (undocumented)
export interface RuntimeHooks {
    // (undocumented)
    auth?: {
        getAuth(): object;
        isLoggedIn(): boolean;
        authenticate?(...args: unknown[]): unknown;
        logout?(...args: unknown[]): unknown;
        addPathToBlackList?(path: string): void;
        isBlockedPath?(pathname: string): boolean;
    };
    // (undocumented)
    checkInstalledApps?: {
        preCheckInstalledApps(storyboard: Storyboard, hasAppInBootstrap: (appId: string) => boolean): void;
        waitForCheckingApps(appIds: string[]): Promise<void>;
        getCheckedApp(appId: string): AppForCheck | undefined;
    };
    // (undocumented)
    checkPermissions?: {
        checkPermissions(...actions: string[]): boolean;
        preCheckPermissions(storyboard: Storyboard): Promise<void> | undefined;
        preCheckPermissionsForBrickOrRoute(container: BrickConf | RouteConf, asyncComputeRealValue: (value: unknown) => Promise<unknown>): Promise<void> | undefined;
    };
    // (undocumented)
    flowApi?: {
        FLOW_API_PROVIDER: string;
        registerFlowApiProvider(): void;
        isFlowApiProvider(provider: string): boolean;
        getArgsOfFlowApi(provider: string, originalArgs: unknown[] | UseProviderContractConf, method?: string, stream?: boolean): Promise<unknown[]>;
        collectContract(contracts: Contract[] | undefined): void;
        collectWidgetContract(contracts: Contract[] | undefined): void;
        clearCollectWidgetContract(): void;
    };
    // (undocumented)
    fulfilStoryboard?: (storyboard: RuntimeStoryboard) => Promise<void>;
    // (undocumented)
    images?: {
        imagesFactory(appId: string, isBuildPush?: boolean, version?: string): ImagesFactory;
        widgetImagesFactory(widgetId: string, widgetVersion?: string): ImagesFactory;
    };
    // (undocumented)
    menu?: {
        getMenuById(menuId: string): unknown;
        fetchMenuById(menuId: string, runtimeContext: RuntimeContext, runtimeHelpers: RuntimeHooksMenuHelpers): Promise<unknown>;
    };
    // (undocumented)
    messageDispatcher?: {
        subscribe(...args: unknown[]): Promise<unknown>;
        unsubscribe(...args: unknown[]): Promise<unknown>;
        onMessage(channel: string, listener: (data: unknown) => void): () => void;
        onClose(listener: () => void): () => void;
        reset(): void;
    };
    // (undocumented)
    pageView?: {
        create(): (info: PageViewInfo) => void;
    };
    // (undocumented)
    validatePermissions?: typeof PermissionApi_validatePermissions;
}

// @public (undocumented)
export interface RuntimeHooksMenuHelpers {
    // (undocumented)
    asyncComputeRealValue(value: unknown, runtimeContext: RuntimeContext, options?: {
        ignoreSymbols?: boolean;
        noInject?: boolean;
    }): Promise<unknown>;
    // (undocumented)
    getStoryboardByAppId(appId: string): Storyboard | undefined;
    // (undocumented)
    resolveData(resolveConf: ResolveConf, runtimeContext: RuntimeContext): Promise<unknown>;
}

// @public (undocumented)
export interface RuntimeOptions {
    // (undocumented)
    hooks?: RuntimeHooks;
}

// @public (undocumented)
interface RuntimeUseBrickConfWithRootSymbols extends UseSingleBrickConf {
    // (undocumented)
    [symbolForRootRuntimeContext]?: RuntimeContext;
}

// Warning: (ae-forgotten-export) The symbol "RealTimeDataInspectRoot" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
function setRealTimeDataInspectRoot(root: RealTimeDataInspectRoot): void;

// @public (undocumented)
export function setUIVersion(version: string | undefined | null): void;

// @public (undocumented)
export function shouldReloadForError(error: unknown): boolean;

// Warning: (ae-forgotten-export) The symbol "StoryboardFunctionRegistry" needs to be exported by the entry point index.d.ts
// Warning: (ae-internal-missing-underscore) The name "StoryboardFunctionRegistryFactory" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function StoryboardFunctionRegistryFactory({ widgetId, widgetVersion, isolatedRoot, collectCoverage, debuggerOverrides, }?: {
    widgetId?: string;
    widgetVersion?: string;
    isolatedRoot?: symbol;
    collectCoverage?: FunctionCoverageSettings;
    debuggerOverrides?: (ctx: {
        precookFunction: typeof precookFunction;
        cook: typeof cook;
        supply: typeof supply;
    }) => {
        LodashWithStaticFields?: Partial<typeof __2>;
        ArrayConstructor?: typeof Array;
        ObjectWithStaticFields?: Partial<typeof Object>;
    };
}): StoryboardFunctionRegistry;

// @public (undocumented)
const symbolForRootRuntimeContext: unique symbol;

// @public (undocumented)
function unmountUseBrick({ rendererContext }: RenderUseBrickResult, mountResult: MountUseBrickResult): void;

// @public (undocumented)
export function unstable_createRoot(container: HTMLElement | DocumentFragment, { portal: _portal, scope, unknownBricks, supportsUseChildren, unsafe_penetrate, }?: CreateRootOptions): {
    render(brick: BrickConf | BrickConf[], { theme, uiVersion, language, context, functions, templates, i18n: i18nData, url, app, }?: RenderOptions): Promise<void>;
    unmount(): void;
};

// @public (undocumented)
const updateSnippetPreviewSettings: typeof updateStoryboardBySnippet;

// @public (undocumented)
function updateStoryboard(appId: string, storyboardPatch: Partial<Storyboard>): void;

// @public (undocumented)
function updateStoryboardByRoute(appId: string, newRoute: RouteConf): void;

// @public (undocumented)
function updateStoryboardBySnippet(appId: string, snippetData: {
    snippetId: string;
    bricks?: BrickConf[];
    context?: ContextConf[];
}): void;

// @public (undocumented)
function updateStoryboardByTemplate(appId: string, newTemplate: CustomTemplate, settings: unknown): void;

// @public (undocumented)
function updateTemplatePreviewSettings(appId: string, templateId: string, settings?: unknown): void;

// Warnings were encountered during analysis:
//
// dist/types/Dialog.d.ts:10:5 - (ae-forgotten-export) The symbol "show_2" needs to be exported by the entry point index.d.ts
// dist/types/Notification.d.ts:8:5 - (ae-forgotten-export) The symbol "show" needs to be exported by the entry point index.d.ts
// dist/types/StoryboardFunctionRegistry.d.ts:49:5 - (ae-forgotten-export) The symbol "FunctionCoverageSettings" needs to be exported by the entry point index.d.ts
// dist/types/internal/Runtime.d.ts:36:9 - (ae-forgotten-export) The symbol "AppForCheck" needs to be exported by the entry point index.d.ts

// (No @packageDocumentation comment for this package)

```
