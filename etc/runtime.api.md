## API Report File for "@next-core/runtime"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import type { Action } from 'history';
import type { BatchUpdateContextItem } from '@next-core/types';
import type { BootstrapData } from '@next-core/types';
import { BreadcrumbItemConf } from '@next-core/types';
import type { BrickConf } from '@next-core/types';
import type { BrickEventHandler } from '@next-core/types';
import type { BrickEventHandlerCallback } from '@next-core/types';
import type { BrickEventsMap } from '@next-core/types';
import type { BrickLifeCycle } from '@next-core/types';
import type { ContextConf } from '@next-core/types';
import type { Contract } from '@next-core/types';
import type { CustomTemplate } from '@next-core/types';
import type { CustomTemplateConstructor } from '@next-core/types';
import type { CustomTemplateProxy } from '@next-core/types';
import { EstreeNode } from '@next-core/cook';
import type { FeatureFlags } from '@next-core/types';
import { History as History_2 } from 'history';
import type { LegacyCompatibleRuntimeContext } from '@next-core/inject';
import { Location as Location_2 } from 'history';
import { LocationDescriptor } from 'history';
import type { MetaI18n } from '@next-core/types';
import { MicroApp } from '@next-core/types';
import type { PermissionApi_validatePermissions } from '@next-api-sdk/micro-app-sdk';
import type { ResolveConf } from '@next-core/types';
import type { RouteConf } from '@next-core/types';
import type { RuntimeStoryboard } from '@next-core/types';
import type { SiteMode } from '@next-core/types';
import type { SiteTheme } from '@next-core/types';
import type { Storyboard } from '@next-core/types';
import { StoryboardFunction } from '@next-core/types';
import type { UseSingleBrickConf } from '@next-core/types';

declare namespace __secret_internals {
    export {
        renderUseBrick,
        mountUseBrick,
        unmountUseBrick,
        legacyDoTransform,
        updateStoryboard,
        updateStoryboardByRoute,
        updateStoryboardByTemplate,
        updateTemplatePreviewSettings,
        updateStoryboardBySnippet,
        RuntimeContext,
        RenderUseBrickResult,
        MountUseBrickResult,
        updateSnippetPreviewSettings
    }
}
export { __secret_internals }

// @public (undocumented)
export let __test_only: RuntimeHooksMenuHelpers & {
    setBootstrapData(data: BootstrapData): void;
};

// @public (undocumented)
export function applyTheme(value?: SiteTheme): void;

// @public @deprecated (undocumented)
export function authenticate(...args: unknown[]): void;

// Warning: (ae-forgotten-export) The symbol "AppThemes" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export function batchSetAppsLocalTheme(appsTheme: AppThemes): void;

// Warning: (ae-forgotten-export) The symbol "IfContainer" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export function checkIfByTransform(ifContainer: IfContainer, data: unknown): boolean;

// @public (undocumented)
export function checkIfOfComputed(ifContainer: IfContainer): boolean;

// @public (undocumented)
export function createHistory(): NextHistory;

// @public (undocumented)
export interface CreateRootOptions {
    // (undocumented)
    portal?: HTMLElement;
    scope?: "page" | "fragment";
    unknownBricks?: "silent" | "throw";
}

// Warning: (ae-forgotten-export) The symbol "Runtime" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export function createRuntime(options?: RuntimeOptions): Runtime;

// Warning: (ae-forgotten-export) The symbol "CustomProcessorRegistry" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export const customProcessors: CustomProcessorRegistry;

// Warning: (ae-forgotten-export) The symbol "CustomTemplateRegistry" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export const customTemplates: CustomTemplateRegistry;

// @public (undocumented)
export const Dialog: Readonly<{
    show: typeof show_2;
}>;

// @public (undocumented)
export interface DialogOptions {
    // (undocumented)
    content: string;
    // (undocumented)
    contentStyle?: object;
    // (undocumented)
    title?: string | null;
    // (undocumented)
    type?: "success" | "error" | "warn" | "info" | "confirm";
}

// Warning: (ae-forgotten-export) The symbol "ResolveOptions" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export function fetchByProvider(provider: string, args: unknown[], options?: ResolveOptions): Promise<unknown>;

// @public @deprecated (undocumented)
export function getAuth(): object | undefined;

// @public
export function getBasePath(): string;

// @public (undocumented)
export function getCssPropertyValue(name: string, el?: HTMLElement): string;

// @public (undocumented)
export function getCurrentMode(): SiteMode;

// @public (undocumented)
export function getCurrentTheme(): SiteTheme;

// @public (undocumented)
export function getHistory(): NextHistory;

// @public (undocumented)
export function getPageInfo(): PageInfo;

// @public (undocumented)
export function getRuntime(): Runtime;

// @public
export function handleHttpError(error: unknown): void;

// @public
export function httpErrorToString(error: unknown): string;

// @public (undocumented)
export interface ImagesFactory {
    // (undocumented)
    get(name: string): string;
}

// @public @deprecated (undocumented)
export function isLoggedIn(): boolean | undefined;

// @public (undocumented)
export function isUnauthenticatedError(error: unknown): boolean;

// @public
function legacyDoTransform(data: unknown, to: unknown, options?: unknown): unknown;

// @public @deprecated (undocumented)
export function logout(): unknown;

// Warning: (ae-forgotten-export) The symbol "MatchPathOptions" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "MatchResult" needs to be exported by the entry point index.d.ts
//
// @public
export function matchPath(pathname: string, options: MatchPathOptions): MatchResult | null;

// @public (undocumented)
function mountUseBrick({ renderRoot, rendererContext }: RenderUseBrickResult, element: HTMLElement): MountUseBrickResult;

// @public (undocumented)
interface MountUseBrickResult {
    // (undocumented)
    portal?: HTMLElement;
}

// Warning: (ae-forgotten-export) The symbol "ExtendedHistory" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export type NextHistory = History_2<NextHistoryState> & ExtendedHistory;

// @public (undocumented)
export interface NextHistoryState {
    // (undocumented)
    from?: LocationDescriptor<NextHistoryState>;
    // (undocumented)
    notify?: boolean;
}

// @public (undocumented)
export type NextLocation = Location_2<NextHistoryState>;

// @public (undocumented)
const Notification_2: Readonly<{
    show: typeof show;
}>;
export { Notification_2 as Notification }

// @public (undocumented)
interface NotificationOptions_2 {
    // (undocumented)
    message: string;
    // (undocumented)
    type?: "success" | "error" | "warn" | "info";
}
export { NotificationOptions_2 as NotificationOptions }

// @public
export interface PageInfo {
    isInIframe: boolean;
    isInIframeOfLegacyConsole: boolean;
    isInIframeOfNext: boolean;
    isInIframeOfSameSite: boolean;
    isInIframeOfVisualBuilder: boolean;
}

// @public (undocumented)
export function registerWidgetFunctions(widgetId: string, functions: StoryboardFunction[], widgetVersion?: string): void;

// @public (undocumented)
export function registerWidgetI18n(widgetId: string, i18nData: MetaI18n): void;

// @public (undocumented)
export interface RenderOptions {
    // (undocumented)
    context?: ContextConf[];
    // (undocumented)
    functions?: StoryboardFunction[];
    // (undocumented)
    i18n?: MetaI18n;
    // (undocumented)
    templates?: CustomTemplate[];
    // (undocumented)
    theme?: SiteTheme;
}

// @public (undocumented)
function renderUseBrick(useBrick: UseSingleBrickConf, data: unknown): Promise<RenderUseBrickResult>;

// @public (undocumented)
interface RenderUseBrickResult {
    // Warning: (ae-forgotten-export) The symbol "RendererContext" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    rendererContext: RendererContext;
    // Warning: (ae-forgotten-export) The symbol "RenderRoot" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    renderRoot: RenderRoot;
    // (undocumented)
    tagName: string | null;
}

// @public (undocumented)
interface RuntimeContext extends LegacyCompatibleRuntimeContext {
    // (undocumented)
    appendI18nNamespace?: string;
    // Warning: (ae-forgotten-export) The symbol "DataStore" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    ctxStore: DataStore<"CTX">;
    // (undocumented)
    forEachItem?: unknown;
    // (undocumented)
    formStateStoreId?: string;
    // (undocumented)
    formStateStoreMap: Map<string, DataStore<"FORM_STATE">>;
    // (undocumented)
    formStateStoreScope?: DataStore<"FORM_STATE">[];
    // (undocumented)
    pendingPermissionsPreCheck: (Promise<unknown> | undefined)[];
    // (undocumented)
    tplStateStoreId?: string;
    // (undocumented)
    tplStateStoreMap: Map<string, DataStore<"STATE">>;
    // (undocumented)
    tplStateStoreScope?: DataStore<"STATE">[];
}

// @public (undocumented)
export interface RuntimeHooks {
    // (undocumented)
    auth?: {
        getAuth(): object;
        isLoggedIn(): boolean;
        authenticate?(...args: unknown[]): unknown;
        logout?(...args: unknown[]): unknown;
    };
    // (undocumented)
    checkInstalledApps?: {
        preCheckInstalledApps(storyboard: Storyboard, hasAppInBootstrap: (appId: string) => boolean): void;
        waitForCheckingApps(appIds: string[]): Promise<void>;
        getCheckedApp(appId: string): AppForCheck | undefined;
    };
    // (undocumented)
    checkPermissions?: {
        checkPermissions(...actions: string[]): boolean;
        preCheckPermissions(storyboard: Storyboard): Promise<void> | undefined;
        preCheckPermissionsForBrickOrRoute(container: BrickConf | RouteConf, asyncComputeRealValue: (value: unknown) => Promise<unknown>): Promise<void> | undefined;
    };
    // (undocumented)
    flowApi?: {
        FLOW_API_PROVIDER: string;
        registerFlowApiProvider(): void;
        isFlowApiProvider(provider: string): boolean;
        getArgsOfFlowApi(provider: string, originalArgs: unknown[], method?: string): Promise<unknown[]>;
        collectContract(contracts: Contract[] | undefined): void;
        collectWidgetContract(contracts: Contract[] | undefined): void;
        clearCollectWidgetContract(): void;
    };
    // (undocumented)
    fulfilStoryboard?: (storyboard: RuntimeStoryboard) => Promise<void>;
    // (undocumented)
    images?: {
        imagesFactory(appId: string, isBuildPush?: boolean, version?: string): ImagesFactory;
        widgetImagesFactory(widgetId: string, widgetVersion?: string): ImagesFactory;
    };
    // (undocumented)
    menu?: {
        getMenuById(menuId: string): unknown;
        fetchMenuById(menuId: string, runtimeContext: RuntimeContext, runtimeHelpers: RuntimeHooksMenuHelpers): Promise<unknown>;
    };
    // (undocumented)
    messageDispatcher?: {
        subscribe(...args: unknown[]): Promise<Event>;
        unsubscribe(...args: unknown[]): Promise<Event>;
        onMessage(channel: string, listener: (data: unknown) => void): void;
        onClose(listener: () => void): void;
        reset(): void;
    };
    // (undocumented)
    validatePermissions?: typeof PermissionApi_validatePermissions;
}

// @public (undocumented)
export interface RuntimeHooksMenuHelpers {
    // (undocumented)
    asyncComputeRealValue(value: unknown, runtimeContext: RuntimeContext, options?: {
        ignoreSymbols?: boolean;
        noInject?: boolean;
    }): Promise<unknown>;
    // (undocumented)
    getStoryboardByAppId(appId: string): Storyboard | undefined;
    // (undocumented)
    resolveData(resolveConf: ResolveConf, runtimeContext: RuntimeContext): Promise<unknown>;
}

// @public (undocumented)
export interface RuntimeOptions {
    // (undocumented)
    hooks?: RuntimeHooks;
}

// Warning: (ae-forgotten-export) The symbol "StoryboardFunctionRegistry" needs to be exported by the entry point index.d.ts
// Warning: (ae-internal-missing-underscore) The name "StoryboardFunctionRegistryFactory" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function StoryboardFunctionRegistryFactory({ widgetId, widgetVersion, collectCoverage, }?: {
    widgetId?: string;
    widgetVersion?: string;
    collectCoverage?: FunctionCoverageSettings;
}): StoryboardFunctionRegistry;

// @public (undocumented)
function unmountUseBrick({ rendererContext }: RenderUseBrickResult, mountResult: MountUseBrickResult): void;

// @public (undocumented)
export function unstable_createRoot(container: HTMLElement, { portal: _portal, scope, unknownBricks }?: CreateRootOptions): {
    render(brick: BrickConf | BrickConf[], { theme, context, functions, templates, i18n: i18nData, }?: RenderOptions): Promise<void>;
    unmount(): void;
};

// @public (undocumented)
const updateSnippetPreviewSettings: typeof updateStoryboardBySnippet;

// @public (undocumented)
function updateStoryboard(appId: string, storyboardPatch: Partial<Storyboard>): void;

// @public (undocumented)
function updateStoryboardByRoute(appId: string, newRoute: RouteConf): void;

// @public (undocumented)
function updateStoryboardBySnippet(appId: string, snippetData: {
    snippetId: string;
    bricks?: BrickConf[];
}): void;

// @public (undocumented)
function updateStoryboardByTemplate(appId: string, newTemplate: CustomTemplate, settings: unknown): void;

// @public (undocumented)
function updateTemplatePreviewSettings(appId: string, templateId: string, settings?: unknown): void;

// Warnings were encountered during analysis:
//
// dist/types/Dialog.d.ts:10:5 - (ae-forgotten-export) The symbol "show_2" needs to be exported by the entry point index.d.ts
// dist/types/Notification.d.ts:8:5 - (ae-forgotten-export) The symbol "show" needs to be exported by the entry point index.d.ts
// dist/types/StoryboardFunctionRegistry.d.ts:43:5 - (ae-forgotten-export) The symbol "FunctionCoverageSettings" needs to be exported by the entry point index.d.ts
// dist/types/internal/Runtime.d.ts:29:9 - (ae-forgotten-export) The symbol "AppForCheck" needs to be exported by the entry point index.d.ts

// (No @packageDocumentation comment for this package)

```
